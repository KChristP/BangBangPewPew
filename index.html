<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script>
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      var renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      var cubeGeometry = new THREE.BoxGeometry( 1, 1, 1 );
      var sphereGeometry = new THREE.IcosahedronGeometry(0.5, 2 );
      var material = new THREE.MeshBasicMaterial( { color: 0x336699 } );
      var material2 = new THREE.MeshNormalMaterial( { wireframe: true } );
      let cube = new THREE.Mesh( cubeGeometry, material );
      let cube2 = new THREE.Mesh( cubeGeometry, material );
      let rightWall = new THREE.Mesh()
      scene.add(cube2)
      let spheres = []
      cube.position.x = 1
      scene.add( cube );

      window.Scene = scene

      camera.position.z = cube.position.z + 3;
      function render() {
      	requestAnimationFrame( render );
        camera.position.z = cube.position.z + 3;
        camera.position.x = cube.position.x;
        camera.position.y = cube.position.y + 1;

        cube2.rotation.x += 0.01;
        // console.log(cube.rotation.x);
        cube2.rotation.y += 0.01;

        spheres.forEach((sphere) => {
          sphere.rotation.y -= 0.01;
          sphere.position.z -= 1
        })
      	renderer.render( scene, camera );
      }
      render();

      window.onkeydown = (e) => {
        let key = e.keyCode ? e.keyCode : e.which;

        if (key === 37) {
          cube.rotation.y += 0.1
          console.log(cube.rotation.y);
          // camera.rotation.y = cube.rotation.y
        } else if (key === 38) {
          cube.position.z -= 0.1
        } else if (key === 39){
          cube.rotation.y -= 0.1
          console.log(cube.rotation.y);
          // camera.rotation.y = cube.rotation.y
        } else if (key === 40){
          cube.position.z += 0.1
        }
        if (key === 32){
          let sphere = new THREE.Mesh(sphereGeometry, material2);
          sphere.position.x = cube.position.x
          sphere.position.y = cube.position.y
          sphere.position.z = cube.position.z
          spheres.push(sphere)
          scene.add(sphere)
        }
      }

		</script>
	</body>
</html>
